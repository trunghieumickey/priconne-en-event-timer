(this["webpackJsonppriconne-en-event-timer"]=this["webpackJsonppriconne-en-event-timer"]||[]).push([[0],{11:function(e,n,t){},17:function(e,n,t){},20:function(e,n,t){"use strict";t.r(n);var c=t(1),i=t.n(c),s=t(12),a=t.n(s),r=(t(17),t(3)),o=t(4),u=t.n(o),l=t(0),j=function(e){var n=e.event,t="YYYY MMM DD hh:mm:ss a",i="YYYY/MM/DD hh:mm:ss",s=u.a.utc(n.start_time,i),a=u.a.utc(n.end_time,i),r=u.a.duration(s.diff(u()())).asSeconds(),o=Math.floor(r)%60,j=Math.floor(r/60%60),d=Math.floor(r/60/60%24),h=Math.floor(r/60/60/24),b=u.a.duration(a.diff(u()())).asSeconds(),f=Math.floor(b)%60,O=Math.floor(b/60%60),m=Math.floor(b/60/60%24),v=Math.floor(b/60/60/24),x=r<=0,p=function(e){return"".concat(e).padStart(2,"0")},w=!(n.start_time===n.end_time);return Object(l.jsxs)("div",{className:"countdown-card ".concat(x?"active":""),children:[Object(l.jsx)("div",{className:"icon",children:Object(l.jsx)("img",{alt:n.icon_src,src:"icons/".concat(n.icon_src,".png")})}),Object(l.jsxs)("div",{className:"info",children:[Object(l.jsx)("div",{className:"title",children:n.event_name}),Object(l.jsxs)("div",{className:"countdown",children:[x?Object(l.jsx)("div",{className:"subtitle",children:"--In progress--"}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"subtitle",children:"Starts in"}),Object(l.jsx)("div",{children:"".concat(h," days ").concat(p(d),":").concat(p(j),":").concat(p(o))})]}),w&&Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"subtitle",children:"Ends in"}),Object(l.jsx)("div",{children:"".concat(v," days ").concat(p(m),":").concat(p(O),":").concat(p(f))})]})]}),Object(l.jsxs)("div",{className:"date",children:[Object(l.jsxs)("div",{children:["Start Date: ",s.local().format(t)]}),w&&Object(l.jsxs)("div",{children:["End Date: ",a.local().format(t)]})]})]})]})},d=t(5),h=t(8),b=t(2),f=t.n(b),O=(t(11),function(e){var n=e.comp,t=e.unitDistance,c=e.onClick;return Object(l.jsx)("div",{style:{minHeight:"68px"},children:f.a.chain(n).orderBy((function(e){return t[e]}),"desc").map((function(e){return c?Object(l.jsx)("img",{onClick:function(){return c(e)},alt:e,src:"icons/units/".concat(e,".png")},"".concat(e,"-img")):Object(l.jsx)("img",{alt:e,src:"icons/units/".concat(e,".png")},"".concat(e,"-img"))})).value()})}),m=function(){var e=Object(c.useRef)(),n=Object(c.useRef)(),t=Object(c.useState)(!1),i=Object(r.a)(t,2),s=i[0],a=i[1],o=Object(c.useState)([]),u=Object(r.a)(o,2),j=u[0],b=u[1],m=Object(c.useState)({}),v=Object(r.a)(m,2),x=v[0],p=v[1],w=Object(c.useState)({}),g=Object(r.a)(w,2),y=g[0],S=g[1],E=Object(c.useState)([]),N=Object(r.a)(E,2),k=N[0],D=N[1],q=Object(c.useState)([]),M=Object(r.a)(q,2),C=M[0],Y=M[1],B=Object(c.useState)([]),W=Object(r.a)(B,2),_=W[0],F=W[1],T=Object(c.useState)([]),I=Object(r.a)(T,2),L=I[0],J=I[1],P=Object(c.useState)([]),R=Object(r.a)(P,2),U=R[0],A=R[1],H=Object(c.useState)([]),V=Object(r.a)(H,2),z=(V[0],V[1]),G=Object(c.useState)([]),K=Object(r.a)(G,2),Q=K[0],X=K[1],Z=Object(c.useState)({}),$=Object(r.a)(Z,2),ee=($[0],$[1]);Object(c.useEffect)((function(){fetch("data/matchup.json").then((function(e){return e.json()})).then((function(e){return b(e)})),fetch("data/unit_distance.json").then((function(e){return e.json()})).then((function(e){return p(e)})),fetch("data/blacklist.json").then((function(e){return e.json()})).then((function(e){return S(e)}))}),[]),Object(c.useEffect)((function(){var e=f.a.chain(j).uniqWith(f.a.isEqual).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{winner:f.a.orderBy(e.winner,(function(e){return x[e]}),"desc"),loser:f.a.orderBy(e.loser,(function(e){return x[e]}),"desc")})})).value(),n={};j.forEach((function(e){e.loser.forEach((function(t){e.winner.forEach((function(e){n[t]=Object(h.a)({},n[t]),n[t][e]=n[t][e]?n[t][e]+1:1}))}))})),ee(n),D(e)}),[j,x]),Object(c.useEffect)((function(){if(0!==k.length){var e=f.a.chain(k).countBy((function(e){return e.winner})).entries().orderBy(1,"desc").map((function(e){return{comp:e[0].split(","),wins:e[1]}})).chunk(4).value();e.length>0?Y(e[0]):Y([]),A(f.a.chain(k).map((function(e){return e.loser})).flatten().uniqWith(f.a.isEqual).sort().value()),z(f.a.chain(k).map((function(e){return e.winner})).flatten().uniqWith(f.a.isEqual).filter((function(e){return!f.a.includes(y,e)})).value())}}),[k,y,j]),Object(c.useEffect)((function(){var e=f.a.chain(k).filter((function(e){return f.a.intersection(e.loser,Q).length>=1})).filter((function(e){return f.a.intersection(e.winner,y).length<=0})).map((function(e){return{winner:Object(d.a)(e.winner),loser:Object(d.a)(e.loser),winType:e.winType}})).uniqWith(f.a.isEqual).map((function(e){var n=f.a.intersection(e.loser,Q).length,t=f.a.chain(j).filter((function(n){return f.a.isEqual(e.winner,n.winner)&&f.a.isEqual(e.loser,n.loser)})).value().length,c=f.a.chain(j).filter((function(n){return f.a.isEqual(e.winner,n.loser)&&f.a.isEqual(e.loser,n.winner)})).value().length;return{winner:Object(d.a)(e.winner),loser:Object(d.a)(e.loser),similarity:n,wins:t,losses:c,winType:e.winType}})).orderBy((function(e){return[e.similarity,e.wins,e.losses]}),["desc","desc","asc"]).filter((function(e){return void 0===e.winType||"kill"===e.winType})).chunk(4).value();e.length>0?F(e[0]):F([])}),[Q,k,y,j]),Object(c.useEffect)((function(){var e=f.a.chain(k).filter((function(e){return f.a.intersection(e.winner,Q).length>=2})).map((function(e){var n=f.a.intersection(e.winner,Q).length;return{winner:Object(d.a)(e.winner),loser:Object(d.a)(e.loser),similarity:n}})).uniqWith(f.a.isEqual).orderBy((function(e){return e.similarity}),"desc").chunk(4).value();e.length>0?J(e[0]):J([])}),[Q,k]);var ne=function(e){Q.length<5&&X(f.a.chain([].concat(Object(d.a)(Q),[e])).uniqWith(f.a.isEqual).value())},te=function(){a(!s)},ce=function(e){e.current.scrollIntoView()};return Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)("div",{ref:n,className:"selection-container",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"Selected Defenders"}),Object(l.jsx)(O,{onClick:function(e){X(Q.filter((function(n){return n!==e})))},comp:Q,unitDistance:x}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{style:{height:"50px",width:"50%"},onClick:function(){X([])},children:"Clear team"}),Object(l.jsx)("button",{style:{height:"50px",width:"50%"},onClick:function(){return ce(e)},children:"Jump to teams"})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"Select"}),Object(l.jsx)("div",{className:"defButtons",children:U.map((function(e){return Object(l.jsxs)("div",{className:"button-container",onClick:ne.bind(undefined,e),children:[Object(l.jsx)("img",{alt:e,src:"icons/units/".concat(e,".png")}),e]},"".concat(e,"-icon"))}))})]})]}),Object(l.jsxs)("div",{ref:e,className:"suggestion-container",children:[Object(l.jsx)("button",{style:{height:"50px"},onClick:function(){return ce(n)},children:"Back to top"}),s?Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("h4",{onClick:te,children:"Losing matchups"}),Object(l.jsx)("div",{className:"loses",children:L.map((function(e){return Object(l.jsxs)("div",{className:"comp-container",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:["Winner(Same Units: ",e.similarity,")"]}),Object(l.jsx)(O,{comp:e.winner,unitDistance:x})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"Loser"}),Object(l.jsx)(O,{comp:e.loser,unitDistance:x})]})]},e.key)}))})]}):Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("h4",{onClick:te,children:"Winning matchups"}),Object(l.jsx)("div",{className:"wins",children:_.map((function(e){return Object(l.jsxs)("div",{className:"comp-container",children:[Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:["Winner: W/L: ",e.wins,"/",e.losses," (",parseInt(100*e.wins/(e.losses+e.wins)),"%)"]}),Object(l.jsx)(O,{comp:e.winner,unitDistance:x})]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:["Loser: Same Units: ",e.similarity]}),Object(l.jsx)(O,{comp:e.loser,unitDistance:x})]})]},e.key)}))})]}),0===_.length&&C.map((function(e){return Object(l.jsxs)("div",{className:"comp-container",children:[Object(l.jsxs)("div",{children:["Wins: ",e.wins]}),Object(l.jsx)(O,{comp:e.comp,unitDistance:x})]})}))]})]})};var v=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],i=n[1],s=Object(c.useState)(0),a=Object(r.a)(s,2),o=a[0],d=a[1],h=Object(c.useState)(!1),b=Object(r.a)(h,2),f=b[0],O=b[1];Object(c.useEffect)((function(){fetch("data/data.json").then((function(e){return e.json()})).then((function(e){return i(e)})),setInterval((function(){d(1)}),1e3),O("?matchup"===window.location.search)}),[]),Object(c.useEffect)((function(){d(0)}),[o]);var v=f?Object(l.jsx)(m,{}):Object(l.jsx)("div",{className:"card-container",children:t.map((function(e){return u.a.utc(e.end_time,"YYYY/MM/DD hh:mm:ss").diff(u()())>0?Object(l.jsx)(j,{event:e},e.event_name):null}))});return Object(l.jsx)("div",{className:"App",children:v})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,22)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,s=n.getLCP,a=n.getTTFB;t(e),c(e),i(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),x()}},[[20,1,2]]]);
//# sourceMappingURL=main.0a5c93b7.chunk.js.map