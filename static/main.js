function cdclock(e,t){let n=t-(new Date).getTime();n<0&&window.location.reload();let a=Math.floor(n/1e3)%60,c=Math.floor(n/6e4)%60,d=Math.floor(n/36e5)%24,l=Math.floor(n/864e5);a<10&&(a="0"+a),c<10&&(c="0"+c),d<10&&(d="0"+d),e.textContent=l+" days "+d+":"+c+":"+a}function datetime(e){let t=new Date(e),n=t.getDate(),a=t.getMonth()+1,c=t.getFullYear(),d=t.getHours(),l=t.getMinutes(),o=t.getSeconds(),i=-t.getTimezoneOffset()/60;return d<10&&(d="0"+d),l<10&&(l="0"+l),o<10&&(o="0"+o),n<10&&(n="0"+n),a<10&&(a="0"+a),c+"-"+a+"-"+n+" "+d+":"+l+":"+o+" UTC"+(i>0?"+":"")+i}fetch("static/data.json").then(e=>e.json()).then(e=>{let t=(new Date).getTime(),n=document.createElement("div"),a=!0,c=!0,d="https://",l=d+"raw.githubusercontent.com/trunghieumickey/priconne-en-event-timer/gh-pages/image/",o=d+"www.crunchyroll.com/anime-news/20",i=["got.cr/priconne-update","github.com/trunghieumickey/priconne-en-event-timer","forms.gle/67EqnZhHbjhDhabB7"],m=["crunchyroll","github","ggforms"],r=["Crunchyroll Notice","Github Repository","Feedback"];for(let n=e.length-1;n>=0;n--){let d=e[n],i=document.createElement("div"),m=new Date(d.end_time).getTime()-6e4*(new Date).getTimezoneOffset(),r=new Date(d.start_time).getTime()-6e4*(new Date).getTimezoneOffset();if(!(m<t)){if("iblock"==d.icon_src){if(a)continue;i.className="countdown-card iblock",i.innerHTML=d.event_name,a=!0,c=!1}else{a=!1;let e=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div"),p=document.createElement("div");if(r<t)i.className="countdown-card active",n.className="alert",n.innerHTML="--In Progress--",e.appendChild(n);else{i.className="countdown-card",n.className="subtitle",n.innerHTML="Starts in";let t=document.createElement("div");setInterval(cdclock,1e3,t,r),e.appendChild(n),e.appendChild(t)}let h=document.createElement("img"),g=document.createElement("a");if(g.className="icon",g.href=o+d.link,h.src=c?l+"double/"+d.icon_src+".webp":l+d.icon_src+".webp",h.alt=d.icon_src,p.className="title",p.innerHTML=d.event_name,e.className="countdown",u.className="info",s.className="date",s.appendChild(document.createTextNode("Start Date: "+datetime(r))),r!=m){n=document.createElement("div"),n.className="subtitle",n.innerHTML="Ends in";let t=document.createElement("div");setInterval(cdclock,1e3,t,m),e.appendChild(n),e.appendChild(t),s.appendChild(document.createElement("br")),s.appendChild(document.createTextNode("End Date: "+datetime(m)))}g.appendChild(h),i.appendChild(g),u.appendChild(p),u.appendChild(e),u.appendChild(s),i.appendChild(u)}document.getElementById("root").insertBefore(i,document.getElementById("root").firstChild)}}n.className="countdown-card";for(let e=0;e<i.length;e++){let t=document.createElement("a");t.href=d+i[e],t.className="button";let a=document.createElement("img");a.src=l+"etc/"+m[e]+".webp",a.alt=a.className="favicon",t.appendChild(a),t.appendChild(document.createTextNode(r[e])),n.appendChild(t)}document.getElementById("root").appendChild(n)});